import{w as b,v as y,o as c,c as d,a as e,n as g,F as m,r as P,p as T,b as C,d as I,t as i,e as S,f as w,g as x,h as p,i as v,j as k}from"./vendor.601aa379.js";const D=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerpolicy&&(t.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?t.credentials="include":s.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(s){if(s.ep)return;s.ep=!0;const t=o(s);fetch(s.href,t)}};D();var f=(a,n)=>{const o=a.__vccOpts||a;for(const[l,s]of n)o[l]=s;return o};const L={name:"Table",props:{data:Array,currentPage:Number,pageSize:Number},data(){return{moreInfo:"",sortDir:"asc"}},computed:{sortedList(){return this.data.sort((a,n)=>{let o=this.sortDir==="desc"?-1:1;return a.name.official<n.name.official?-1*o:a.name.official>n.name.official?1*o:0})},pageData(){let a=(this.currentPage-1)*this.pageSize,n=this.currentPage*this.pageSize;return console.log("processed data",this.sortedList),this.sortedList.slice(a,n)},isTableShow(){return this.data.length>0}},methods:{showMoreInfo(a){this.moreInfo="",this.$emit("moreInfo",a)},sort:function(){this.sortDir=this.sortDir==="asc"?"desc":"asc"}}},u=a=>(T("data-v-694eab11"),a=a(),C(),a),N={class:"table"},z=u(()=>e("th",null,"\u5E8F\u865F",-1)),F=u(()=>e("th",null,"\u570B\u65D7",-1)),M=I(" \u570B\u5BB6\u540D\u7A31"),$=u(()=>e("th",null,"2\u4F4D\u570B\u5BB6\u4EE3\u78BC",-1)),A=u(()=>e("th",null,"3\u4F4D\u570B\u5BB6\u4EE3\u78BC",-1)),O=u(()=>e("th",null,"\u6BCD\u8A9E\u540D\u7A31",-1)),V=u(()=>e("th",null,"\u66FF\u4EE3\u570B\u5BB6\u540D\u7A31",-1)),B=u(()=>e("th",null,"\u570B\u969B\u96FB\u8A71\u5340\u865F",-1)),K=["src"],j=["onClick"];function E(a,n,o,l,s,t){return b((c(),d("table",N,[e("thead",null,[z,F,e("th",{class:"sort",onClick:n[0]||(n[0]=(...r)=>t.sort&&t.sort(...r))},[M,e("i",{class:g(["bi",s.sortDir==="asc"?"bi-sort-alpha-down":"bi-sort-alpha-down-alt"])},null,2)]),$,A,O,V,B]),e("tbody",null,[(c(!0),d(m,null,P(t.pageData,(r,_)=>(c(),d("tr",{key:_},[e("td",null,i(o.pageSize*(o.currentPage-1)+_+1),1),e("td",null,[e("img",{src:r.flags[1],alt:"",width:"40"},null,8,K)]),e("td",{"data-bs-toggle":"modal","data-bs-target":"#moreInfoModal",onClick:h=>t.showMoreInfo(r),class:"clickable"},i(r.name.official),9,j),e("td",null,i(r.cca2),1),e("td",null,i(r.cca3),1),e("td",null,i(r.name.nativeName),1),e("td",null,i(r.altSpellings),1),e("td",null,i(r.idd.root+r.idd.suffixes[0]),1)]))),128))])],512)),[[y,t.isTableShow]])}var G=f(L,[["render",E],["__scopeId","data-v-694eab11"]]);const q={name:"Filter",data(){return{inputText:"",filterText:""}},methods:{filterData(){this.filterText=this.inputText,this.$emit("filter",this.filterText)}}},R={class:"mb-4"},U={class:"row col-4"},H={class:"col-2"};function J(a,n,o,l,s,t){return c(),d("div",R,[e("div",U,[b(e("input",{type:"text",class:"form-control col",id:"filter","onUpdate:modelValue":n[0]||(n[0]=r=>s.inputText=r),placeholder:"Country Name...",onKeyup:n[1]||(n[1]=w((...r)=>t.filterData&&t.filterData(...r),["enter"]))},null,544),[[S,s.inputText,void 0,{trim:!0}]]),e("div",H,[e("button",{type:"button",class:"btn btn-primary",onClick:n[2]||(n[2]=(...r)=>t.filterData&&t.filterData(...r))}," filter ")])])])}var Q=f(q,[["render",J],["__scopeId","data-v-ec5e16c4"]]);const W={name:"Pagination",props:{currentPage:Number,data:Array,pageSize:Number},data(){return{}},computed:{totalPage(){return Math.ceil(this.data.length/this.pageSize)}},methods:{nextPage(){this.currentPage<this.totalPage&&this.$emit("next-page")},prevPage(){this.currentPage>1&&this.$emit("prev-page")},goToPage(a){this.$emit("goToPage",a)}}},X={"aria-label":"Page navigation"},Y={class:"pagination"},Z=["onClick"],ee={class:"page-link"};function te(a,n,o,l,s,t){return c(),d("nav",X,[e("ul",Y,[e("li",{class:g(["page-item",{disabled:o.currentPage===1}])},[e("a",{class:"page-link",onClick:n[0]||(n[0]=(...r)=>t.prevPage&&t.prevPage(...r))},"Previous")],2),(c(!0),d(m,null,P(t.totalPage,(r,_)=>(c(),d("li",{class:g([{active:r===o.currentPage},"page-item"]),key:_,onClick:h=>t.goToPage(r)},[e("a",ee,i(r),1)],10,Z))),128)),e("li",{class:g(["page-item",{disabled:o.currentPage===t.totalPage}])},[e("a",{class:"page-link",onClick:n[1]||(n[1]=(...r)=>t.nextPage&&t.nextPage(...r))},"Next")],2)])])}var ae=f(W,[["render",te],["__scopeId","data-v-4df19150"]]);const re={name:"App",components:{Table:G,Filter:Q,Pagination:ae},data(){return{tableData:[],modalContent:"",currentPage:1,filterText:"",pageSize:25}},computed:{filteredList(){return this.tableData.filter(a=>a.name.official.toLowerCase().includes(this.filterText.toLowerCase()))}},methods:{showInfo(a){this.modalContent="",x.get("https://restcountries.com/v3.1/name/"+a.name.official).then(n=>{this.modalContent=n.data[0].region})},filterCountries(a){this.currentPage=1,this.filterText=a},increaseCurrPage(){this.currentPage++},decreaseCurrPage(){this.currentPage--},changeCurrPage(a){this.currentPage=a}},created(){x.get("https://restcountries.com/v3/all?fields=flags,name,cca2,cca3,altSpellings,idd").then(a=>{console.log("original data",a.data),this.tableData=a.data})}},se=e("h2",null,"Vue Countries Table",-1),ne={class:"container"},oe={class:"modal fade",id:"moreInfoModal",tabindex:"-1","aria-labelledby":"moreInfoModalLabel","aria-hidden":"true"},ie={class:"modal-dialog"},le={class:"modal-content"},ce=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"moreInfoModalLabel"},"Region"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),de={class:"modal-body"},ue={class:"container"},_e={class:"table align-middle"};function ge(a,n,o,l,s,t){const r=p("Filter"),_=p("Table"),h=p("Pagination");return c(),d(m,null,[se,e("div",ne,[v(r,{onFilter:t.filterCountries},null,8,["onFilter"]),v(_,{data:t.filteredList,countryToFilter:s.filterText,"current-page":s.currentPage,"page-size":s.pageSize,onMoreInfo:t.showInfo},null,8,["data","countryToFilter","current-page","page-size","onMoreInfo"]),v(h,{"current-page":s.currentPage,data:t.filteredList,"page-size":s.pageSize,onNextPage:t.increaseCurrPage,onPrevPage:t.decreaseCurrPage,onGoToPage:t.changeCurrPage},null,8,["current-page","data","page-size","onNextPage","onPrevPage","onGoToPage"]),e("div",oe,[e("div",ie,[e("div",le,[ce,e("div",de,[e("div",ue,[e("table",_e,[e("tbody",null,[e("tr",null,[e("td",null,i(s.modalContent),1)])])])])])])])])])],64)}var fe=f(re,[["render",ge]]);k(fe).mount("#app");
